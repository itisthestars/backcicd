import{c as m,s as g,d as l,a as E}from"./vendor-nO9PoXSl.js";import{E as o}from"./element-plus-F1hSz9Da.js";const A=m();A.use(g);const p=l("setting",{state:()=>({breadcrumbs:[]}),actions:{setBreadCrumbs(e){this.breadcrumbs=e}}}),c=e=>{let s="";switch(e){case 400:s="è¯·æ±‚é”™è¯¯(400)";break;case 403:s="æ‹’ç»è®¿é—®(403)";break;case 401:s="æœªæŽˆæƒ(401)";break;case 500:s="æœåŠ¡å™¨é”™è¯¯(500)";break;case 503:s="æœåŠ¡ä¸å¯ç”¨(503)";break;default:s=`è¿žæŽ¥å‡ºé”™(${e})!`}return s};var t={};console.log("ðŸ” çŽ¯å¢ƒå˜é‡è°ƒè¯•:");console.log("VITE_APP_USE_MOCK:",t.VITE_APP_USE_MOCK);console.log("VITE_APP_MOCK_BASEURL:",t.VITE_APP_MOCK_BASEURL);console.log("VITE_APP_API_BASEURL:",t.VITE_APP_API_BASEURL);const u=t.VITE_APP_USE_MOCK==="true"?t.VITE_APP_MOCK_BASEURL:t.VITE_APP_API_BASEURL;console.log("finalBaseURL:",u);const n=E.create({baseURL:u,timeout:3e4});console.log("âœ… Axios å®žä¾‹é…ç½®:",n.defaults.baseURL);n.interceptors.request.use(e=>e,e=>Promise.reject(e));n.interceptors.response.use(e=>(e.status===200||o({message:c(e.status),type:"error"}),e),e=>{const{response:s}=e;if(s)return o({message:c(s.status),type:"error"}),Promise.reject(s.data);o({message:"ç½‘ç»œè¿žæŽ¥å¼‚å¸¸,è¯·ç¨åŽå†è¯•!",type:"error"})});const _=e=>{const s=e;return new Promise((r,i)=>{n.request(s).then(P=>{const a=P.data;a.code!=0?(o({message:a.message,type:"error"}),i(a.message)):(o({message:a.message,type:"success"}),r(a))})})};function I(e,s,r){return _({...e,url:s,method:"GET",params:r})}function S(e,s,r){return _({...e,url:s,method:"POST",data:r})}export{S as a,I as g,A as p,p as u};
