import{c as m,s as g,d as l,a as E}from"./vendor-nO9PoXSl.js";import{E as o}from"./element-plus-F1hSz9Da.js";const A=m();A.use(g);const p=l("setting",{state:()=>({breadcrumbs:[]}),actions:{setBreadCrumbs(e){this.breadcrumbs=e}}}),c=e=>{let s="";switch(e){case 400:s="请求错误(400)";break;case 403:s="拒绝访问(403)";break;case 401:s="未授权(401)";break;case 500:s="服务器错误(500)";break;case 503:s="服务不可用(503)";break;default:s=`连接出错(${e})!`}return s};var t={};console.log("🔍 环境变量调试:");console.log("VITE_APP_USE_MOCK:",t.VITE_APP_USE_MOCK);console.log("VITE_APP_MOCK_BASEURL:",t.VITE_APP_MOCK_BASEURL);console.log("VITE_APP_API_BASEURL:",t.VITE_APP_API_BASEURL);const u=t.VITE_APP_USE_MOCK==="true"?t.VITE_APP_MOCK_BASEURL:t.VITE_APP_API_BASEURL;console.log("finalBaseURL:",u);const n=E.create({baseURL:u,timeout:3e4});console.log("✅ Axios 实例配置:",n.defaults.baseURL);n.interceptors.request.use(e=>e,e=>Promise.reject(e));n.interceptors.response.use(e=>(e.status===200||o({message:c(e.status),type:"error"}),e),e=>{const{response:s}=e;if(s)return o({message:c(s.status),type:"error"}),Promise.reject(s.data);o({message:"网络连接异常,请稍后再试!",type:"error"})});const _=e=>{const s=e;return new Promise((r,i)=>{n.request(s).then(P=>{const a=P.data;a.code!=0?(o({message:a.message,type:"error"}),i(a.message)):(o({message:a.message,type:"success"}),r(a))})})};function I(e,s,r){return _({...e,url:s,method:"GET",params:r})}function S(e,s,r){return _({...e,url:s,method:"POST",data:r})}export{S as a,I as g,A as p,p as u};
