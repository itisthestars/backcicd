import{q as x,s as E,t as V,n as y,o as P,b as S,v as k}from"./element-plus-F1hSz9Da.js";import{g as D}from"./common-DwxKJ2w1.js";import{b as F,r as m,a2 as w,h as B,G as U,F as j,e as N,W as o,U as n,R as q,o as G,ai as I,aS as L}from"./vendor-nO9PoXSl.js";const _=async d=>D({},"/projects",d),M=F({__name:"index",setup(d){const s=m([]),p=m([]),e=w({title:"",introduce:"",currentPage:1,pageSize:5,total:0}),f=B(()=>s.value.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)),b=t=>{console.log("当前页:",t),e.currentPage=t},h=t=>{console.log("每页条数:",t),e.pageSize=t},g=()=>{console.log("搜索条件:",e);const t=p.value.filter(a=>a.title.includes(e.title)&&a.introduce.includes(e.introduce));s.value=t,e.total=t.length,e.currentPage=1};return U([()=>e.title,()=>e.introduce],async([t,a],[r,l])=>{if(console.log("新值:",t,a),console.log("旧值:",r,l),(t!==r||a!==l)&&g(),t===""&&a===""){const c=await _({});s.value=c.data,e.total=c.data.length}}),j(async()=>{const t=await _({});s.value=t.data,p.value=t.data,e.total=t.data.length,console.log(t)}),(t,a)=>{const r=P,l=y,c=S,v=x,u=k,z=E,C=V;return G(),N(q,null,[o(v,{inline:!0,model:e,class:"demo-form-inline"},{default:n(()=>[o(l,{label:"标题"},{default:n(()=>[o(r,{modelValue:e.title,"onUpdate:modelValue":a[0]||(a[0]=i=>e.title=i),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),o(l,{label:"详情"},{default:n(()=>[o(r,{modelValue:e.introduce,"onUpdate:modelValue":a[1]||(a[1]=i=>e.introduce=i),placeholder:"请输入详情"},null,8,["modelValue"])]),_:1}),o(l,null,{default:n(()=>[o(c,{type:"primary",onClick:g},{default:n(()=>a[2]||(a[2]=[I("查询",-1)])),_:1,__:[2]})]),_:1})]),_:1},8,["model"]),o(z,{data:f.value,border:!0,style:{width:"100%"}},{default:n(()=>[o(u,{prop:"id",label:"ID",width:"60"}),o(u,{prop:"title",label:"标题",width:"120"}),o(u,{prop:"introduce",label:"介绍"})]),_:1},8,["data"]),o(C,{background:"","page-sizes":[5,10,15,20],layout:"prev, pager, next,sizes",total:e.total,"default-page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:b,onSizeChange:h},null,8,["total","default-page-size","current-page"])],64)}}}),H=L(M,[["__scopeId","data-v-271c4d1e"]]);export{H as default};
